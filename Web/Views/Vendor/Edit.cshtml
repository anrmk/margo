@model Web.ViewModels.VendorViewModel

@{
    ViewData["Title"] = "Edit Vendor";
    ViewData["SubTitle"] = "Please provide all required details to edit vendors info";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-action="Index">Vendors</a></li>
        <li class="breadcrumb-item active" aria-current="page">@Model.General.Name</li>
    </ol>
</nav>

<div class="ui raised segment">
    <form class="ui form" id="submitGeneralForm" method="POST" asp-action="Edit">
        <h4 class="ui dividing header">General</h4>
        <input type="hidden" name="Id" value="@Model.Id" />
        <div class="two fields">
            <div class="field required">
                <label asp-for="General.No"></label>
                <input asp-for="General.No" type="text" name="No" required>
                <span asp-validation-for="General.No" class="text-danger"></span>
            </div>
            <div class="field required">
                <label asp-for="General.Name"></label>
                <input asp-for="General.Name" type="text" name="Name" required>
                <span asp-validation-for="General.Name" class="text-danger"></span>
            </div>
        </div>
        <div class="field">
            <label asp-for="General.Description">Description <span class="text-muted">(Optional)</span></label>
            <textarea asp-for="General.Description" name="Description" rows="3"></textarea>
            <span asp-validation-for="General.Description"></span>
        </div>
        <div class="three fields">
            <div class="field">
                <label asp-for="General.PhoneNumber"></label>
                <input asp-for="General.PhoneNumber" type="text" name="PhoneNumber" >
                <span asp-validation-for="General.PhoneNumber" class="text-danger"></span>
            </div>
            <div class="field">
                <label asp-for="General.Email"></label>
                <input asp-for="General.Email" type="text" name="Email" >
                <span asp-validation-for="General.Email" class="text-danger"></span>
            </div>
            <div class="field">
                <label asp-for="General.Website"></label>
                <input asp-for="General.Website" type="text" name="Website" >
                <span asp-validation-for="General.Website" class="text-danger"></span>
            </div>
        </div>
        <button type="submit" class="ui submit button">Save</button>
    </form>
</div>

<div class="ui raised segment">
    <form class="ui form" method="POST" asp-action="EditAddress">
        <h4 class="ui dividing header">Address</h4>
        <input name="SupplierId" type="hidden" value="@Model.Id" />
        <input name="Id" type="hidden" value="@Model.Address.Id" />
        <div class="two fields">
            <div class="field">
                <label asp-for="Address.Address"></label>
                <input asp-for="Address.Address" type="text" name="Address" >
                <span asp-validation-for="Address.Address" class="form-text text-danger"></span>
            </div>
            <div class="field">
                <label asp-for="Address.City"></label>
                <input asp-for="Address.City" type="text" name="City" >
                <span asp-validation-for="Address.City" class="form-text text-danger"></span>
            </div>
        </div>
        <div class="form-row mb-3">
            <div class="col">
                <label asp-for="Address.Address2">Address 2 <span class="text-muted">(Optional)</span></label>
                <input asp-for="Address.Address2" type="text" name="Address2"  placeholder="Appartment or suite">
                <span asp-validation-for="Address.Address2" class="form-text text-danger"></span>
            </div>
        </div>
        <div class="form-row mb-3">
            <div class="col">
                <label asp-for="Address.Country"></label>
                <input asp-for="Address.Country" type="text" name="Country" >
                <span asp-validation-for="Address.Country" class="form-text text-danger"></span>
            </div>
            <div class="col">
                <label asp-for="Address.State"></label>
                <input asp-for="Address.State" type="text" name="State" >
                <span asp-validation-for="Address.State" class="form-text text-danger"></span>
            </div>
            <div class="col">
                <label asp-for="Address.ZipCode"></label>
                <input asp-for="Address.ZipCode" type="text" name="ZipCode" >
                <span asp-validation-for="Address.ZipCode" class="form-text text-danger"></span>
            </div>
        </div>
    </form>
</div>



<div class="card">
    <div class="card-header card-header-primary card-header-tabs">
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul id="supplierTab" class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" id="general-tab" href="#general" data-form="submitGeneralForm">General</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" id="address-tab" href="#address" data-form="submitAddressForm">Address</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" id="image-tab" href="#image" data-form="submitImageForm">Files</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="tab-content">
            <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
                <form id="submitGeneralForm" method="POST" asp-action="Edit">
                    <input type="hidden" name="Id" value="@Model.Id" />
                    <div class="form-row mb-3">
                        <div class="col-4">
                            <label asp-for="General.No"></label>
                            <input asp-for="General.No" type="text" name="No"  required>
                            <span asp-validation-for="General.No" class="text-danger"></span>
                        </div>
                        <div class="col-8">
                            <label asp-for="General.Name"></label>
                            <input asp-for="General.Name" type="text" name="Name"  required>
                            <span asp-validation-for="General.Name" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-row mb-3">
                        <div class="col">
                            <label asp-for="General.Description">Description <span class="text-muted">(Optional)</span></label>
                            <textarea asp-for="General.Description" name="Description"  rows="3"></textarea>
                            <span asp-validation-for="General.Description" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-row mb-3">
                        <div class="col-4">
                            <label asp-for="General.PhoneNumber"></label>
                            <input asp-for="General.PhoneNumber" type="text" name="PhoneNumber" >
                            <span asp-validation-for="General.PhoneNumber" class="text-danger"></span>
                        </div>
                        <div class="col-4">
                            <label asp-for="General.Email"></label>
                            <input asp-for="General.Email" type="text" name="Email" >
                            <span asp-validation-for="General.Email" class="text-danger"></span>
                        </div>
                        <div class="col-4">
                            <label asp-for="General.Website"></label>
                            <input asp-for="General.Website" type="text" name="Website" >
                            <span asp-validation-for="General.Website" class="text-danger"></span>
                        </div>
                    </div>
                </form>
            </div>

            <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                
            </div>

            <div class="tab-pane fase" id="image" role="tabpanel" arial-labelledby="image-tab">
                <form id="sumbitImageForm" method="POST" asp-action="EditImage">
                    <button id="uploadImageBtn" type="button" class="btn btn-secondary">Add image</button>
                    <div class="form-row mb-3">
                        <div class="col">

                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="card-footer">
        <form method="POST" asp-action="Delete">
            <input asp-for="Id" type="hidden" />
            <button type="submit" class="btn btn-danger" onclick="if (!confirm('Are you sure want to delete this?')) { return false; }"><i class="material-icons">delete_outline</i> Remove</button>
        </form>
        <div>
            <button type="submit" id="saveBtn" class="btn btn-primary mr-1" form="submitGeneralForm">Save</button>
            <a asp-action="index" class="btn btn-link">Cancel</a>
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $('#supplierTab a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                $('#saveBtn').attr('form', $(e.target).data('form'));
            })
        });
    </script>
}